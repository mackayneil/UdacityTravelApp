var Client;(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};e.r(t),e.d(t,{getTodayDate:()=>d,handleTabs:()=>i});const n=e.p+"9962f118e298c3130c585bf86f4bbdaa.jpg",r=e.p+"47a447cdadeafeef114068e71c3ed62e.jpg",a=e.p+"e8c6154c251cbd2d65fe764ba5ababd8.jpg",o=e.p+"5ebfb956e03c3ebff3008541109e45e4.jpg",c=e.p+"7a5be874cbd6da9dc643ec663d0d0813.jpg",i=()=>{const e=document.querySelector(".tabs"),t=document.querySelectorAll(".tab"),n=document.querySelectorAll(".content");e.addEventListener("click",(e=>{const r=e.target;r.classList.contains("selected")||(t.forEach((function(e){e.classList.remove("selected")})),r.classList.add("selected"),n.forEach((function(e){e.classList.add("d-none"),e.id===r.dataset.id&&e.classList.remove("d-none")})))}))};i();const s=async()=>{let e,t,n,r;const a=document.querySelector("#location").value,o={userLocation:a},c=document.querySelector("#trip-start"),i=c.value,s=document.querySelector("#trip-end"),d=document.querySelector(".warning-message");""===a||""===i?d.classList.remove("d-none"):(d.classList.add("d-none"),((e,t)=>{const n=document.querySelector("#departing"),r=document.querySelector("#days-left"),a=document.querySelector("#length-of-trip");let o=Math.round((t.valueAsNumber-e.valueAsNumber)/864e5);const c=new Date;let i=Math.round((e.valueAsNumber-c.getTime())/864e5),s=[...e.value.split("-")],d=s[0],l=s[1],u=s[2];a.innerHTML=1===o||0===o?"1 day":`${o} days`,n.innerHTML=`${u} / ${{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}[l]} / ${d}`,r.innerHTML=-1===i||1===i?"1 day":`${i} days`})(c,s),fetch("http://localhost:8080/location",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>e.json())).then((function(n){t=n.postalcodes[0].lat,e=n.postalcodes[0].lng})).then((function(){const a={long:e,lat:t};fetch("http://localhost:8080/weather",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((e=>e.json())).then((function(e){const t=e.data[0];(e=>{const t=document.querySelector(".condition"),n=document.querySelector("#temperature"),r=document.querySelector("#humidity"),a=document.querySelector("#wind-speed"),o=document.querySelector("#pressure"),c=document.querySelector("#feels-like"),i=e.weather.code,s=i.toString().charAt(0);let d;if(800===i)d="☀️";else switch(s){case"2":d="⛈";break;case"3":d="🌧";break;case"5":d="🌦";break;case"6":d="🌨";break;case"7":d="💨";break;case"8":d="☁️";break;default:d="☀️"}t.innerHTML=`${e.weather.description} ${d}`,n.innerHTML=`${e.temp} °C`,r.innerHTML=`${Math.round(e.rh)} %`,a.innerHTML=`${Math.round(e.wind_spd)} m/s`,o.innerHTML=`${e.pres} mb`,c.innerHTML=`${e.app_temp} °C`})(t),(e=>{const t=document.querySelector(".destination-card-container"),n=document.querySelector(".tab-container"),r=document.querySelector("#details-header");t.classList.add("d-none"),n.classList.remove("d-none"),r.innerHTML=e.city_name})(t),n=t.city_name,(()=>{const e=document.querySelector(".date"),t=new Date,n=t.getMonth(),r=t.getFullYear(),a=t.getDate();e.innerHTML=`${a} / ${{0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}[n]} / ${r}`})()})).then((function(){r={city:n},fetch("http://localhost:8080/forecast",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>e.json())).then((function(e){(e=>{const t={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},n=document.querySelector(".forecast-cards");n.innerHTML="";for(let r=1;r<=5;r++){let a=[...e[r].valid_date.slice(5).split("-")],o=a[0],c=a[1];const i=e[r].weather.code,s=i.toString().charAt(0);let d;if(800===i)d="☀️";else switch(s){case"2":d="⛈";break;case"3":d="🌧";break;case"5":d="🌦";break;case"6":d="🌨";break;case"7":d="💨";break;case"8":d="☁️";break;default:d="☀️"}n.innerHTML+=`<div class="forecast-card">\n                                        <div>\n                                            <p class="forecast-date">${c} ${t[o]}</p>\n                                            <p class="forecast-condition">${e[r].weather.description} ${d}</p>\n                                        </div>\n                                        <p class="max-min">${Math.round(e[r].max_temp)} / ${Math.round(e[r].min_temp)} °C</p>\n                                    </div>`}})(e.data)}))})).then((function(){fetch("http://localhost:8080/images",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>e.json())).then((function(e){(e=>{const t=document.querySelector(".image-card-container");document.querySelector("#background-img").style.backgroundImage=`url(${e.hits[1].largeImageURL})`;for(let n=1;n<=5;n++){const r=e.hits[n].webformatURL;t.innerHTML+=`<div class="image-card" style="background-image: url(${r})"></div>`}})(e)}))}))})))},d=()=>{const e=new Date,t=e.getMonth()+1,n=e.getFullYear(),r=e.getDate(),a=document.querySelector("#trip-start"),o=document.querySelector("#trip-end");a.setAttribute("min",`${n}-${t}-${r}`),o.setAttribute("disabled",!0),a.addEventListener("change",(function(){o.removeAttribute("disabled"),o.setAttribute("min",`${a.value}`)}))};d(),((e,t,n,r,a)=>{const o=document.querySelector("#background-img"),c=document.querySelector(".france"),i=document.querySelector(".spain"),s=document.querySelector(".thailand"),d=document.querySelector(".japan");c.style.backgroundImage=`linear-gradient(90deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 50%), url(${t})`,i.style.backgroundImage=`linear-gradient(90deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 50%), url(${n})`,s.style.backgroundImage=`linear-gradient(90deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 50%), url(${r})`,d.style.backgroundImage=`linear-gradient(90deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 50%), url(${a})`,o.style.backgroundImage=`url(${e})`})(n,r,a,o,c);document.querySelector("#submit").addEventListener("click",(function(e){e.preventDefault(),s()})),Client=t})();
//# sourceMappingURL=main.js.map